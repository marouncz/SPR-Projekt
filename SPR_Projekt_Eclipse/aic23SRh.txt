/*
 * aic23.h
 *
 *  Created on: 3.10.2013
 *      Author: Student
 */

#ifndef AIC23SRH_C_
#define AIC23SRH_C_

#ifdef __cplusplus
extern "C" {
#endif

#include <csl.h>
#include <csl_mcbsp.h>

/* Frequency Definitions */
#define AIC23_FREQ_8KHZ        1
#define AIC23_FREQ_16KHZ      2
#define AIC23_FREQ_24KHZ      3
#define AIC23_FREQ_32KHZ      4
#define AIC23_FREQ_44KHZ      5
#define AIC23_FREQ_48KHZ      6
#define AIC23_FREQ_96KHZ      7

/* Codec register tab definitions */
#define AIC23_NUMREGS         10

/* Parameter Structure for the AIC23 Codec */
typedef struct AIC23_ConfigTab {
    int regs[AIC23_NUMREGS];
} AIC23_ConfigTab;
#define AIC23_DEFAULTCONFIG { \
    0x001D, /* Reg 0: Left line input volume */ \
    0x001D, /* Reg 1: Right line input volume */ \
    0x00F9, /* Reg 2: Left headphone volume */ \
    0x00F9, /* Reg 3: Right headphone volume */ \
    0x0011, /* Reg 4: Analog path control */ \
    0x0000, /* Reg 5: Digital path control */ \
    0x0000, /* Reg 6: Power down control */ \
    0x0043, /* Reg 7: Digital audio interface format (MS=1 → codec master) */ \
    0x00DC, /* Reg 8: Sample rate control — NORMAL MODE (USB/N=0) */ \
    0x0001  /* Reg 9: Digital interface activation */ \
}

/* Set the codec loopback mode */
void AIC23_Loopback( Int16 mode);

/* Enable/disable codec mute mode */
void AIC23_Mute( Int16 mode);

/* Set the codec output gain */
void AIC23_OutGain( Uint16 outGain);

/* Enable/disable codec powerdown modes for DAC, ADC */
void AIC23_PowerDown( Uint16 sect);

/* Set the codec sample rate frequency */
void AIC23_SetFreq( Uint32 freq);

/* Read a 32-bit value from the codec */
Int16 AIC23_Read( Int32 *val);

/* Write a 32-bit value to the codec */
Int16 AIC23_Write( Int32 val);

/* Configure the codec register values */
void AIC23_Config( AIC23_ConfigTab *Config);

/* Close the codec */
void AIC23_CloseCodec( void);

/* Open the codec with id and return handle */
Int32 AIC23_OpenCodec( AIC23_ConfigTab *Config);

#ifdef __cplusplus
}
#endif

#endif /* AIC23SRH_C_ */
